<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to mctq • mctq</title>
<!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to mctq">
<meta name="description" content="This article takes a quick tour of all standard Munich ChronoType  Questionnaire (MCTQ) main functions from the `mctq` package.
">
<meta property="og:description" content="This article takes a quick tour of all standard Munich ChronoType  Questionnaire (MCTQ) main functions from the `mctq` package.
">
<meta property="og:image" content="https://docs.ropensci.org/mctq/logo.png">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css">
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">mctq</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.3.2.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/mctq.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/missing-sections.html">Dealing with missing sections</a></li>
    <li><a class="dropdown-item" href="../articles/sjl-computation.html">The social jetlag computation</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/mctq/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to mctq</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/mctq/blob/master/vignettes/mctq.Rmd" class="external-link"><code>vignettes/mctq.Rmd</code></a></small>
      <div class="d-none name"><code>mctq.Rmd</code></div>
    </div>

    
    
<p>This article takes a quick tour of the Munich ChronoType
Questionnaire (MCTQ) main functions from the <code>mctq</code> package.
Please see the function documentation and other articles/vignettes for
more details.</p>
<p>The same features presented here can also be used with <span class="math inline">\(\mu\)</span>MCTQ. To make it easy for newcomers,
some MCTQ<span class="math inline">\(^{Shift}\)</span> functions and
other special functions are not shown.</p>
<p>We assume that you already have <a href="https://www.r-project.org/" class="external-link">R</a> installed and have some
familiarity with R and MCTQ data. We also strongly recommend using <a href="https://posit.co/products/open-source/rstudio/" class="external-link">RStudio</a> as
your IDE (Integrated Development Environment).</p>
<p>It’s helpful to have the standard MCTQ questionnaire and the
guidelines for standard MCTQ variable computation open while reading
this article. This will enhance your understanding of the data objects
discussed. You can download the MCTQ full standard version <a href="https://www.thewep.org/documentations/mctq/item/english-mctq-full" class="external-link">here</a>.</p>
<div class="section level2">
<h2 id="first-things-first">First things first<a class="anchor" aria-label="anchor" href="#first-things-first"></a>
</h2>
<p>Let’s start with the basics. The first thing you must do to use
<code>mctq</code> is to have some MCTQ data and <code>mctq</code>
installed and loaded.</p>
<p>Install <code>mctq</code> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"mctq"</span><span class="op">)</span></span></code></pre></div>
<p>Great! We now must load the package to memory to start using it. Do
this with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/mctq/">mctq</a></span><span class="op">)</span></span></code></pre></div>
<p>Now we just need to get some MCTQ data. For demonstration purposes,
we’re going to use a small and fictional raw standard MCTQ data provided
by the <code>mctq</code> package.</p>
<p>This dataset already has valid values. As for any data analysis, you
must have clean and valid data before using any analysis tool. If you
don’t know how to do that, we strongly recommend checking Hadley Wickham
and Garrett Grolemund free and online book <a href="https://r4ds.had.co.nz/" class="external-link">R for data Science</a> and the Coursera
course from John Hopkins University <a href="https://www.coursera.org/specializations/data-science-foundations-r" class="external-link">Data
Science: Foundations using R</a> (free for audit students).</p>
<p>Teaching you how to load your data in R is outside the scope of this
article. For that, we recommend checking the <a href="https://readr.tidyverse.org/" class="external-link">readr</a> package from <a href="https://www.tidyverse.org/" class="external-link">tidyverse</a>.</p>
<p>Our fictional MCTQ data will be loaded with the code below. The
naming of the variables follows the same naming pattern used in MCTQ
publications. You can see the meaning of each variable by running
<code><a href="../reference/std_mctq.html">?std_mctq</a></code> in your console (you can also see it in this <a href="https://docs.ropensci.org/mctq/reference/std_mctq.html">link</a>).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span></span>
<span>  <span class="fu">mctq</span><span class="fu">::</span><span class="fu"><a href="../reference/raw_data.html">raw_data</a></span><span class="op">(</span><span class="st">"vignette_mctq.csv"</span><span class="op">)</span>,</span>
<span>  col_types <span class="op">=</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/cols.html" class="external-link">cols</a></span><span class="op">(</span>.default <span class="op">=</span> <span class="st">"c"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="converting-your-data">Converting your data<a class="anchor" aria-label="anchor" href="#converting-your-data"></a>
</h2>
<p><code>mctq</code> makes use of the <a href="https://lubridate.tidyverse.org/" class="external-link">lubridate</a> and <a href="https://hms.tidyverse.org/" class="external-link">hms</a> packages from <a href="https://www.tidyverse.org/" class="external-link">tidyverse</a>, which provide special
objects to deal with date/time values in R. If your dataset does not
conform to this structure, you first need to convert your data to
it.</p>
<p>Due to the circular nature of time, we strongly recommend that you
use appropriate temporal objects while dealing with date/time in R. That
can help you get rid of several computation mistakes while trying to
adapt your data from a base 10 to a system rooted in a base 12 numerical
system.</p>
<p>Teaching you how to parse/convert your data is outside the scope of
this article. Please refer to the <a href="https://lubridate.tidyverse.org/" class="external-link">lubridate</a> and <a href="https://hms.tidyverse.org/" class="external-link">hms</a> package documentation to learn
more about them. These two are essential packages to deal with date/time
data in R. We also recommend that you read the <a href="https://r4ds.had.co.nz/dates-and-times.html" class="external-link">Dates and times</a>
chapter from Wickham &amp; Grolemund’s book “R for Data Science”.</p>
<p>Here we are interested in two types of time objects:
<code>Duration</code> objects, to store time spans, such as sleep
latency, and <code>hms</code> objects, to store local time values, such
as bedtime.</p>
<p>But first, let’s take a look at the data, shall we? If you’re using
<a href="https://posit.co/products/open-source/rstudio/" class="external-link">RStudio</a>,
you can run the code above and then type <code>View(data)</code> in the
console to explore it.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 20</span></span></span>
<span><span class="co">#&gt;   id    work  wd    bt_w  sprep_w slat_w se_w  si_w  alarm_w wake_before_w le_w </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1     TRUE  5     22:50 23:20   30     06:55 25    TRUE    FALSE         01:00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2     TRUE  2     21:25 21:30   5      05:05 5     TRUE    FALSE         02:00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 3     TRUE  5     22:30 23:10   50     08:00 15    TRUE    FALSE         02:15</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 4     TRUE  2     00:45 01:10   15     08:55 20    TRUE    FALSE         01:55</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 5     TRUE  7     22:40 22:40   5      08:20 5     TRUE    FALSE         02:00</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 9 more variables: bt_f &lt;chr&gt;, sprep_f &lt;chr&gt;, slat_f &lt;chr&gt;, se_f &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   si_f &lt;chr&gt;, alarm_f &lt;chr&gt;, reasons_f &lt;chr&gt;, reasons_why_f &lt;chr&gt;, le_f &lt;chr&gt;</span></span></span></code></pre></div>
<p>As you can see, our data came in different formats. For example, the
column <code>bt_w</code> (local time of going to bed on workdays) is in
<code>hours:minutes</code> format, while <code>slat_w</code> (sleep
latency on workdays) is a duration expressed in minutes.</p>
<p>Our fictional data will be parsed/converted with the code below.
Please note that the <a href="https://lubridate.tidyverse.org/" class="external-link">lubridate</a> and <a href="https://hms.tidyverse.org/" class="external-link">hms</a> packages are equipped with
easy tools and great documentation to help you with this task.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hms.tidyverse.org/" class="external-link">hms</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"wd"</span><span class="op">)</span>, <span class="va">as.integer</span><span class="op">)</span>,</span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span></span>
<span>      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"^work$|^alarm_|^wake_|^reasons_f$"</span><span class="op">)</span>,</span>
<span>      <span class="va">as.logical</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"^bt_|^sprep_|^se_"</span><span class="op">)</span>, <span class="fu">hms</span><span class="fu">::</span><span class="va"><a href="https://hms.tidyverse.org/reference/parse_hms.html" class="external-link">parse_hm</a></span><span class="op">)</span>,</span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span></span>
<span>      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"^slat_|^si_"</span><span class="op">)</span>,</span>
<span>      <span class="op">~</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/duration.html" class="external-link">dminutes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">.x</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span></span>
<span>      <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"^le_"</span><span class="op">)</span>,</span>
<span>      <span class="op">~</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/as.duration.html" class="external-link">as.duration</a></span><span class="op">(</span><span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/parse_hms.html" class="external-link">parse_hm</a></span><span class="op">(</span><span class="va">.x</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>Our data is now all set to start. Let’s take a look at it.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 20</span></span></span>
<span><span class="co">#&gt;      id work     wd bt_w   sprep_w slat_w              se_w  si_w               </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;tim&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 TRUE      5 22<span style="color: #949494;">:</span>50  23<span style="color: #949494;">:</span>20   1800s (~30 minutes) 06<span style="color: #949494;">:</span>55 1500s (~25 minutes)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2 TRUE      2 21<span style="color: #949494;">:</span>25  21<span style="color: #949494;">:</span>30   300s (~5 minutes)   05<span style="color: #949494;">:</span>05 300s (~5 minutes)  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     3 TRUE      5 22<span style="color: #949494;">:</span>30  23<span style="color: #949494;">:</span>10   3000s (~50 minutes) 08<span style="color: #949494;">:</span>00 900s (~15 minutes) </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     4 TRUE      2 00<span style="color: #949494;">:</span>45  01<span style="color: #949494;">:</span>10   900s (~15 minutes)  08<span style="color: #949494;">:</span>55 1200s (~20 minutes)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     5 TRUE      7 22<span style="color: #949494;">:</span>40  22<span style="color: #949494;">:</span>40   300s (~5 minutes)   08<span style="color: #949494;">:</span>20 300s (~5 minutes)  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 12 more variables: alarm_w &lt;lgl&gt;, wake_before_w &lt;lgl&gt;, le_w &lt;Duration&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   bt_f &lt;time&gt;, sprep_f &lt;time&gt;, slat_f &lt;Duration&gt;, se_f &lt;time&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   si_f &lt;Duration&gt;, alarm_f &lt;lgl&gt;, reasons_f &lt;lgl&gt;, reasons_why_f &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   le_f &lt;Duration&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="workdays-and-work-free-days-variables">Workdays and work-free days variables<a class="anchor" aria-label="anchor" href="#workdays-and-work-free-days-variables"></a>
</h2>
<p><code>mctq</code> provides a complete and consistent toolkit to
process Munich ChronoType Questionnaire (MCTQ) data. To start this
process, we must first compute some MCTQ variables related to each
section of the questionnaire.</p>
<p>We’re going to use direct assigning while computing the MCTQ
variables, just because is more straightforward for the examples. But,
we recommend assigning variables to your dataset by using the
<code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code> function, included in the <a href="https://dplyr.tidyverse.org/" class="external-link">dplyr</a> package.</p>
<div class="section level3">
<h3 id="fd-number-of-work-free-days-per-week">
<code>fd()</code>: Number of work-free days per week<a class="anchor" aria-label="anchor" href="#fd-number-of-work-free-days-per-week"></a>
</h3>
<p><code><a href="../reference/fd.html">fd()</a></code> is a simple function that allows you to compute the
difference between the number of days in a week (7) and the number of
workdays per week (<code>wd</code>). It takes only <code>wd</code> as
argument.</p>
<p>The output must be the total of free days a respondent has in a
week.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">fd</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fd.html">fd</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">wd</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">wd</span>, <span class="va">fd</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 2</span></span></span>
<span><span class="co">#&gt;      wd    fd</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     5     2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2     5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     5     2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     2     5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     7     0</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="so-local-time-of-sleep-onset">
<code>so()</code>: Local time of sleep onset<a class="anchor" aria-label="anchor" href="#so-local-time-of-sleep-onset"></a>
</h3>
<p><code><a href="../reference/so.html">so()</a></code> allows you to compute the local time of sleep onset
for workdays (<code>so_w</code>) and work-free days (<code>so_f</code>).
It takes two arguments: <code>sprep</code> (local time of preparing to
sleep) and <code>slat</code> (sleep latency or time to fall asleep after
preparing to sleep).</p>
<p>The output must be the sum of <code>sprep</code> and
<code>slat</code> in a circular time frame of 24 hours.</p>
<p>What is a circular time frame of 24 hours? Run
<code>?cycle_time</code> in your console or click in this <a href="https://docs.ropensci.org/mctq/reference/cycle_time.html">link</a>
for a detail explanation.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">so_w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/so.html">so</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">sprep_w</span>, <span class="va">data</span><span class="op">$</span><span class="va">slat_w</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">so_f</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/so.html">so</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">sprep_f</span>, <span class="va">data</span><span class="op">$</span><span class="va">slat_f</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">sprep_w</span>, <span class="va">slat_w</span>, <span class="va">so_w</span>, <span class="va">sprep_f</span>, <span class="va">slat_f</span>, <span class="va">so_f</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 6</span></span></span>
<span><span class="co">#&gt;   sprep_w slat_w              so_w   sprep_f slat_f              so_f  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;time&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;time&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 23<span style="color: #949494;">:</span>20   1800s (~30 minutes) 23<span style="color: #949494;">:</span>50  00<span style="color: #949494;">:</span>15   300s (~5 minutes)   00<span style="color: #949494;">:</span>20 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 21<span style="color: #949494;">:</span>30   300s (~5 minutes)   21<span style="color: #949494;">:</span>35  23<span style="color: #949494;">:</span>20   600s (~10 minutes)  23<span style="color: #949494;">:</span>30 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 23<span style="color: #949494;">:</span>10   3000s (~50 minutes) 00<span style="color: #949494;">:</span>00  00<span style="color: #949494;">:</span>15   1500s (~25 minutes) 00<span style="color: #949494;">:</span>40 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 01<span style="color: #949494;">:</span>10   900s (~15 minutes)  01<span style="color: #949494;">:</span>25  00<span style="color: #949494;">:</span>55   1500s (~25 minutes) 01<span style="color: #949494;">:</span>20 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 22<span style="color: #949494;">:</span>40   300s (~5 minutes)   22<span style="color: #949494;">:</span>45  00<span style="color: #949494;">:</span>30   300s (~5 minutes)   00<span style="color: #949494;">:</span>35</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="gu-local-time-of-getting-out-of-bed">
<code>gu()</code>: Local time of getting out of bed<a class="anchor" aria-label="anchor" href="#gu-local-time-of-getting-out-of-bed"></a>
</h3>
<p><code><a href="../reference/gu.html">gu()</a></code> allows you to compute the local time of getting out
of bed for workdays (<code>gu_w</code>) and work-free days
(<code>gu_f</code>). It takes two arguments: <code>se</code> (local time
of sleep end) and <code>si</code> (sleep inertia).</p>
<p>The output must be the sum of <code>se</code> and <code>si</code> in
a circular time frame of 24 hours.</p>
<p>Please note that, despite the name, <code>si</code> represents the
time that the respondent takes to get up after sleep end. We decided to
maintain the original names and abbreviations proposed by the MCTQ
authors.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">gu_w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gu.html">gu</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">se_w</span>, <span class="va">data</span><span class="op">$</span><span class="va">si_w</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">gu_f</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gu.html">gu</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">se_f</span>, <span class="va">data</span><span class="op">$</span><span class="va">si_f</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">se_w</span>, <span class="va">si_w</span>, <span class="va">gu_w</span>, <span class="va">se_f</span>, <span class="va">si_f</span>, <span class="va">gu_f</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 6</span></span></span>
<span><span class="co">#&gt;   se_w   si_w                gu_w   se_f   si_f                gu_f  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;time&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 06<span style="color: #949494;">:</span>55  1500s (~25 minutes) 07<span style="color: #949494;">:</span>20  10<span style="color: #949494;">:</span>10  1500s (~25 minutes) 10<span style="color: #949494;">:</span>35 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 05<span style="color: #949494;">:</span>05  300s (~5 minutes)   05<span style="color: #949494;">:</span>10  07<span style="color: #949494;">:</span>20  1200s (~20 minutes) 07<span style="color: #949494;">:</span>40 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 08<span style="color: #949494;">:</span>00  900s (~15 minutes)  08<span style="color: #949494;">:</span>15  10<span style="color: #949494;">:</span>05  900s (~15 minutes)  10<span style="color: #949494;">:</span>20 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 08<span style="color: #949494;">:</span>55  1200s (~20 minutes) 09<span style="color: #949494;">:</span>15  07<span style="color: #949494;">:</span>30  1200s (~20 minutes) 07<span style="color: #949494;">:</span>50 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 08<span style="color: #949494;">:</span>20  300s (~5 minutes)   08<span style="color: #949494;">:</span>25  07<span style="color: #949494;">:</span>55  1500s (~25 minutes) 08<span style="color: #949494;">:</span>20</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sdu-sleep-duration">
<code>sdu()</code>: Sleep duration<a class="anchor" aria-label="anchor" href="#sdu-sleep-duration"></a>
</h3>
<p><code><a href="../reference/sdu.html">sdu()</a></code> allows you to compute the sleep duration for
workdays (<code>sd_w</code>) and work-free days (<code>sd_f</code>). It
takes two arguments: <code>so</code> (local time of sleep onset) and
<code>se</code> (local time of sleep end).</p>
<p>The output must be the difference between <code>se</code> and
<code>so</code> in a circular time frame of 24 hours.</p>
<p>Please note that, although we tried to preserve the original authors’
naming pattern for the MCTQ functions, the name <code>sd</code> provokes
a dangerous name collision with the widely used <a href="https://rdrr.io/r/stats/sd.html" class="external-link">stats::sd</a> (standard
deviation) function. That’s why we named it as <code>sdu</code>.
<code><a href="../reference/sdu.html">sdu()</a></code> and <code><a href="../reference/msl.html">msl()</a></code> are the only exceptions, all
the other <code>mctq</code> functions maintain a strong naming
resemblance with the original authors’ naming pattern.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">sd_w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sdu.html">sdu</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">so_w</span>, <span class="va">data</span><span class="op">$</span><span class="va">se_w</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">sd_f</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sdu.html">sdu</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">so_f</span>, <span class="va">data</span><span class="op">$</span><span class="va">se_f</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">so_w</span>, <span class="va">se_w</span>, <span class="va">sd_w</span>, <span class="va">so_f</span>, <span class="va">se_f</span>, <span class="va">sd_f</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 6</span></span></span>
<span><span class="co">#&gt;   so_w   se_w   sd_w                 so_f   se_f   sd_f                </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 23<span style="color: #949494;">:</span>50  06<span style="color: #949494;">:</span>55  25500s (~7.08 hours) 00<span style="color: #949494;">:</span>20  10<span style="color: #949494;">:</span>10  35400s (~9.83 hours)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 21<span style="color: #949494;">:</span>35  05<span style="color: #949494;">:</span>05  27000s (~7.5 hours)  23<span style="color: #949494;">:</span>30  07<span style="color: #949494;">:</span>20  28200s (~7.83 hours)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 00<span style="color: #949494;">:</span>00  08<span style="color: #949494;">:</span>00  28800s (~8 hours)    00<span style="color: #949494;">:</span>40  10<span style="color: #949494;">:</span>05  33900s (~9.42 hours)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 01<span style="color: #949494;">:</span>25  08<span style="color: #949494;">:</span>55  27000s (~7.5 hours)  01<span style="color: #949494;">:</span>20  07<span style="color: #949494;">:</span>30  22200s (~6.17 hours)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 22<span style="color: #949494;">:</span>45  08<span style="color: #949494;">:</span>20  34500s (~9.58 hours) 00<span style="color: #949494;">:</span>35  07<span style="color: #949494;">:</span>55  26400s (~7.33 hours)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tbt-total-time-in-bed">
<code>tbt()</code>: Total time in bed<a class="anchor" aria-label="anchor" href="#tbt-total-time-in-bed"></a>
</h3>
<p><code><a href="../reference/tbt.html">tbt()</a></code> allows you to compute total time in bed for
workdays (<code>tbt_w</code>) and work-free days (<code>tbt_f</code>).
It takes two arguments: <code>bt</code> (local time of going to bed) and
<code>gu</code> (local time of getting out of bed).</p>
<p>The output must be the difference between <code>gu</code> and
<code>bt</code> in a circular time frame of 24 hours.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">tbt_w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tbt.html">tbt</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">bt_w</span>, <span class="va">data</span><span class="op">$</span><span class="va">gu_w</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">tbt_f</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tbt.html">tbt</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">bt_f</span>, <span class="va">data</span><span class="op">$</span><span class="va">gu_f</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">bt_w</span>, <span class="va">gu_w</span>, <span class="va">tbt_w</span>, <span class="va">bt_f</span>, <span class="va">gu_f</span>, <span class="va">tbt_f</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 6</span></span></span>
<span><span class="co">#&gt;   bt_w   gu_w   tbt_w                bt_f   gu_f   tbt_f                </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 22<span style="color: #949494;">:</span>50  07<span style="color: #949494;">:</span>20  30600s (~8.5 hours)  23<span style="color: #949494;">:</span>35  10<span style="color: #949494;">:</span>35  39600s (~11 hours)   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 21<span style="color: #949494;">:</span>25  05<span style="color: #949494;">:</span>10  27900s (~7.75 hours) 21<span style="color: #949494;">:</span>55  07<span style="color: #949494;">:</span>40  35100s (~9.75 hours) </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 22<span style="color: #949494;">:</span>30  08<span style="color: #949494;">:</span>15  35100s (~9.75 hours) 22<span style="color: #949494;">:</span>40  10<span style="color: #949494;">:</span>20  42000s (~11.67 hours)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 00<span style="color: #949494;">:</span>45  09<span style="color: #949494;">:</span>15  30600s (~8.5 hours)  23<span style="color: #949494;">:</span>15  07<span style="color: #949494;">:</span>50  30900s (~8.58 hours) </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 22<span style="color: #949494;">:</span>40  08<span style="color: #949494;">:</span>25  35100s (~9.75 hours) 00<span style="color: #949494;">:</span>30  08<span style="color: #949494;">:</span>20  28200s (~7.83 hours)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="msl-local-time-of-mid-sleep">
<code>msl()</code>: Local time of mid-sleep<a class="anchor" aria-label="anchor" href="#msl-local-time-of-mid-sleep"></a>
</h3>
<p><code><a href="../reference/msl.html">msl()</a></code> allows you to compute the local time of mid-sleep
for workdays (<code>msw</code>) and work-free days (<code>msf</code>).
It takes two arguments: <code>so</code> (local time of sleep onset) and
<code>sd</code> (sleep duration).</p>
<p>The output must be the sum of <code>so</code> with the half of
<code>sd</code> duration in a circular time frame of 24 hours.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">msw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/msl.html">msl</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">so_w</span>, <span class="va">data</span><span class="op">$</span><span class="va">sd_w</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">msf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/msl.html">msl</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">so_f</span>, <span class="va">data</span><span class="op">$</span><span class="va">sd_f</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">so_w</span>, <span class="va">sd_w</span>, <span class="va">msw</span>, <span class="va">so_f</span>, <span class="va">sd_f</span>, <span class="va">msf</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 6</span></span></span>
<span><span class="co">#&gt;   so_w   sd_w                 msw      so_f   sd_f                 msf     </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;time&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;time&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 23<span style="color: #949494;">:</span>50  25500s (~7.08 hours) 03<span style="color: #949494;">:</span>22<span style="color: #949494;">:</span>30 00<span style="color: #949494;">:</span>20  35400s (~9.83 hours) 05<span style="color: #949494;">:</span>15<span style="color: #949494;">:</span>00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 21<span style="color: #949494;">:</span>35  27000s (~7.5 hours)  01<span style="color: #949494;">:</span>20<span style="color: #949494;">:</span>00 23<span style="color: #949494;">:</span>30  28200s (~7.83 hours) 03<span style="color: #949494;">:</span>25<span style="color: #949494;">:</span>00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 00<span style="color: #949494;">:</span>00  28800s (~8 hours)    04<span style="color: #949494;">:</span>00<span style="color: #949494;">:</span>00 00<span style="color: #949494;">:</span>40  33900s (~9.42 hours) 05<span style="color: #949494;">:</span>22<span style="color: #949494;">:</span>30</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 01<span style="color: #949494;">:</span>25  27000s (~7.5 hours)  05<span style="color: #949494;">:</span>10<span style="color: #949494;">:</span>00 01<span style="color: #949494;">:</span>20  22200s (~6.17 hours) 04<span style="color: #949494;">:</span>25<span style="color: #949494;">:</span>00</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 22<span style="color: #949494;">:</span>45  34500s (~9.58 hours) 03<span style="color: #949494;">:</span>32<span style="color: #949494;">:</span>30 00<span style="color: #949494;">:</span>35  26400s (~7.33 hours) 04<span style="color: #949494;">:</span>15<span style="color: #949494;">:</span>00</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="combining-workdays-and-work-free-days-variables">Combining workdays and work-free days variables<a class="anchor" aria-label="anchor" href="#combining-workdays-and-work-free-days-variables"></a>
</h2>
<p>We now have computed all MCTQ variables for each section of the
questionnaire. Let’s move to some variables that summarize our findings
considering workdays and work-free days.</p>
<div class="section level3">
<h3 id="sd_week-average-weekly-sleep-duration">
<code>sd_week()</code>: Average weekly sleep duration<a class="anchor" aria-label="anchor" href="#sd_week-average-weekly-sleep-duration"></a>
</h3>
<p><code><a href="../reference/sd_week.html">sd_week()</a></code> allows you to compute the average weekly sleep
duration. It takes three arguments: <code>sd_w</code> (sleep duration on
workdays), <code>sd_f</code> (sleep duration on work-free days), and
<code>wd</code> (number of workdays per week).</p>
<p>The output must be the weighted mean of <code>sd_w</code> and
<code>sd_f</code>, with <code>wd</code> and <code>fd(wd)</code> as
weights, in a circular time frame of 24 hours.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">sd_week</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sd_week.html">sd_week</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">sd_w</span>, <span class="va">data</span><span class="op">$</span><span class="va">sd_f</span>, <span class="va">data</span><span class="op">$</span><span class="va">wd</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>sd_week_rounded <span class="op">=</span> <span class="fu">mctq</span><span class="fu">:::</span><span class="fu">round_time</span><span class="op">(</span><span class="va">sd_week</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">wd</span>, <span class="va">sd_w</span>, <span class="va">fd</span>, <span class="va">sd_f</span>, <span class="va">sd_week_rounded</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 5</span></span></span>
<span><span class="co">#&gt;      wd sd_w                    fd sd_f                 sd_week_rounded     </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     5 25500s (~7.08 hours)     2 35400s (~9.83 hours) 28329s (~7.87 hours)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2 27000s (~7.5 hours)      5 28200s (~7.83 hours) 27857s (~7.74 hours)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     5 28800s (~8 hours)        2 33900s (~9.42 hours) 30257s (~8.4 hours) </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     2 27000s (~7.5 hours)      5 22200s (~6.17 hours) 23571s (~6.55 hours)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     7 34500s (~9.58 hours)     0 26400s (~7.33 hours) 34500s (~9.58 hours)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sloss_week-weekly-sleep-loss">
<code>sloss_week()</code>: Weekly sleep loss<a class="anchor" aria-label="anchor" href="#sloss_week-weekly-sleep-loss"></a>
</h3>
<p><code><a href="../reference/sloss_week.html">sloss_week()</a></code> allows you to compute the weekly sleep
loss. It takes three arguments: <code>sd_w</code> (sleep duration on
workdays), <code>sd_f</code> (sleep duration on work-free days), and
<code>wd</code> (number of workdays per week).</p>
<p>If <code>sd_week</code>(average weekly sleep duration) is greater
than <code>sd_w</code>, the output must be the difference between
<code>sd_week</code> and <code>sd_w</code> times <code>wd</code>. Else,
it must return the difference between <code>sd_week</code> and
<code>sd_f</code> times <code>fd(wd</code>) (number of free days per
week). See <code><a href="../reference/sloss_week.html">?sloss_week</a></code> to learn more.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">sloss_week</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sloss_week.html">sloss_week</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">sd_w</span>, <span class="va">data</span><span class="op">$</span><span class="va">sd_f</span>, <span class="va">data</span><span class="op">$</span><span class="va">wd</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    sloss_week_rounded <span class="op">=</span> <span class="fu">mctq</span><span class="fu">:::</span><span class="fu">round_time</span><span class="op">(</span><span class="va">sloss_week</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">wd</span>, <span class="va">sd_w</span>, <span class="va">fd</span>, <span class="va">sd_f</span>, <span class="va">sloss_week_rounded</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 5</span></span></span>
<span><span class="co">#&gt;      wd sd_w                    fd sd_f                 sloss_week_rounded    </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     5 25500s (~7.08 hours)     2 35400s (~9.83 hours) 14143s (~3.93 hours)  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2 27000s (~7.5 hours)      5 28200s (~7.83 hours) 1714s (~28.57 minutes)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     5 28800s (~8 hours)        2 33900s (~9.42 hours) 7286s (~2.02 hours)   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     2 27000s (~7.5 hours)      5 22200s (~6.17 hours) 6857s (~1.9 hours)    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     7 34500s (~9.58 hours)     0 26400s (~7.33 hours) 0s</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="le_week-average-weekly-light-exposure">
<code>le_week()</code>: Average weekly light exposure<a class="anchor" aria-label="anchor" href="#le_week-average-weekly-light-exposure"></a>
</h3>
<p><code><a href="../reference/le_week.html">le_week()</a></code> allows you to compute the average weekly light
exposure. It takes three arguments: <code>le_w</code> (light exposure on
workdays), <code>le_f</code> (light exposure on work-free days), and
<code>wd</code> (number of workdays per week).</p>
<p>The output must be the weighted mean of <code>le_w</code> and
<code>le_f</code>, with <code>wd</code> and <code>fd(wd)</code> as
weights, in a circular time frame of 24 hours.</p>
<p>Please note that light exposure is measured only with the full
version of the standard MCTQ.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">le_week</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/le_week.html">le_week</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">le_w</span>, <span class="va">data</span><span class="op">$</span><span class="va">le_f</span>, <span class="va">data</span><span class="op">$</span><span class="va">wd</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>le_week_rounded <span class="op">=</span> <span class="fu">mctq</span><span class="fu">:::</span><span class="fu">round_time</span><span class="op">(</span><span class="va">le_week</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">wd</span>, <span class="va">le_w</span>, <span class="va">fd</span>, <span class="va">le_f</span>, <span class="va">le_week_rounded</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 5</span></span></span>
<span><span class="co">#&gt;      wd le_w                   fd le_f                 le_week_rounded     </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     5 3600s (~1 hours)        2 12000s (~3.33 hours) 6000s (~1.67 hours) </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2 7200s (~2 hours)        5 12900s (~3.58 hours) 11271s (~3.13 hours)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     5 8100s (~2.25 hours)     2 9900s (~2.75 hours)  8614s (~2.39 hours) </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     2 6900s (~1.92 hours)     5 9300s (~2.58 hours)  8614s (~2.39 hours) </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     7 7200s (~2 hours)        0 7800s (~2.17 hours)  7200s (~2 hours)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="msf_sc-chronotype-or-sleep-corrected-local-time-of-mid-sleep-on-work-free-days">
<code>msf_sc()</code>: Chronotype or sleep-corrected local time of
mid-sleep on work-free days<a class="anchor" aria-label="anchor" href="#msf_sc-chronotype-or-sleep-corrected-local-time-of-mid-sleep-on-work-free-days"></a>
</h3>
<p><code><a href="../reference/msf_sc.html">msf_sc()</a></code> allows you to compute the chronotype, or
corrected local time of mid-sleep on work-free days. It takes five
arguments: <code>msf</code> (local time of mid-sleep on work-free days),
<code>sd_w</code> (sleep duration on workdays), <code>sd_f</code> (sleep
duration on work-free days), <code>sd_week</code>(average weekly sleep
duration), and <code>alarm_f</code> (a <code>logical</code> object
indicating if the respondent uses an alarm clock to wake up on work-free
days).</p>
<p>If <code>sd_f</code> is less or equal than <code>sd_w</code>, the
output must be <code>msf</code>. Else, it must return <code>msf</code>
minus the difference between <code>sd_f</code> and <code>sd_week</code>
divided by 2. <code>msf_sc</code> can only be computed if
<code>alarm_f</code> is equal to <code>FALSE</code> (the function will
return <code>NA</code> when <code>alarm_f == TRUE</code>).</p>
<p><code>msf_sc</code> applies a correction to <code>msf</code>,
removing an estimation of the effect from accumulated sleep debt on
workdays that usually is compensated on work-free days. See
<code><a href="../reference/msf_sc.html">?msf_sc</a></code> to learn more.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">msf_sc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/msf_sc.html">msf_sc</a></span><span class="op">(</span></span>
<span>  <span class="va">data</span><span class="op">$</span><span class="va">msf</span>, <span class="va">data</span><span class="op">$</span><span class="va">sd_w</span>, <span class="va">data</span><span class="op">$</span><span class="va">sd_f</span>, <span class="va">data</span><span class="op">$</span><span class="va">sd_week</span>, <span class="va">data</span><span class="op">$</span><span class="va">alarm_f</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>msf_sc_rounded <span class="op">=</span> <span class="fu">mctq</span><span class="fu">:::</span><span class="fu">round_time</span><span class="op">(</span><span class="va">msf_sc</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">msf</span>, <span class="va">msf_sc_rounded</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 2</span></span></span>
<span><span class="co">#&gt;   msf      msf_sc_rounded</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;time&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;time&gt;</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 05<span style="color: #949494;">:</span>15<span style="color: #949494;">:</span>00 04<span style="color: #949494;">:</span>16<span style="color: #949494;">:</span>04      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 03<span style="color: #949494;">:</span>25<span style="color: #949494;">:</span>00 03<span style="color: #949494;">:</span>22<span style="color: #949494;">:</span>09      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 05<span style="color: #949494;">:</span>22<span style="color: #949494;">:</span>30 04<span style="color: #949494;">:</span>52<span style="color: #949494;">:</span>09      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 04<span style="color: #949494;">:</span>25<span style="color: #949494;">:</span>00 04<span style="color: #949494;">:</span>25<span style="color: #949494;">:</span>00      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 04<span style="color: #949494;">:</span>15<span style="color: #949494;">:</span>00 04<span style="color: #949494;">:</span>15<span style="color: #949494;">:</span>00</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sjl_rel-relative-social-jetlag">
<code>sjl_rel()</code>: Relative social jetlag<a class="anchor" aria-label="anchor" href="#sjl_rel-relative-social-jetlag"></a>
</h3>
<p><code><a href="../reference/sjl.html">sjl_rel()</a></code> allows you to compute the relative social
jetlag. It takes at least two arguments: <code>msw</code> (local time of
mid-sleep on workdays) and <code>msf</code> (local time of mid-sleep on
work-free days).</p>
<p>The output must be the difference between <code>msf</code> and
<code>msw</code> in a circular time frame of 24 hours.</p>
<p>In case you don’t know, social jet lag is a concept developed by
Wittmann et al. (<a href="https://doi.org/10.1080/07420520500545979" class="external-link">2006</a>) that
represents the discrepancy between social and biological time.</p>
<p>The difference described above may seem trivial or easy to compute,
but it’s not. See the
<code><a href="../articles/sjl-computation.html">vignette("sjl-computation", package = "mctq")</a></code> to learn
more.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">sjl_rel</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sjl.html">sjl_rel</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">msw</span>, <span class="va">data</span><span class="op">$</span><span class="va">msf</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">msw</span>, <span class="va">msf</span>, <span class="va">sjl_rel</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 3</span></span></span>
<span><span class="co">#&gt;   msw      msf      sjl_rel              </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;time&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;time&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 03<span style="color: #949494;">:</span>22<span style="color: #949494;">:</span>30 05<span style="color: #949494;">:</span>15<span style="color: #949494;">:</span>00 6750s (~1.88 hours)  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 01<span style="color: #949494;">:</span>20<span style="color: #949494;">:</span>00 03<span style="color: #949494;">:</span>25<span style="color: #949494;">:</span>00 7500s (~2.08 hours)  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 04<span style="color: #949494;">:</span>00<span style="color: #949494;">:</span>00 05<span style="color: #949494;">:</span>22<span style="color: #949494;">:</span>30 4950s (~1.38 hours)  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 05<span style="color: #949494;">:</span>10<span style="color: #949494;">:</span>00 04<span style="color: #949494;">:</span>25<span style="color: #949494;">:</span>00 -2700s (~-45 minutes)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 03<span style="color: #949494;">:</span>32<span style="color: #949494;">:</span>30 04<span style="color: #949494;">:</span>15<span style="color: #949494;">:</span>00 2550s (~42.5 minutes)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sjl-absolute-social-jetlag">
<code>sjl()</code>: Absolute social jetlag<a class="anchor" aria-label="anchor" href="#sjl-absolute-social-jetlag"></a>
</h3>
<p><code><a href="../reference/sjl.html">sjl()</a></code> allows you to compute the absolute social jetlag.
This function works the same way as <code>sjl_rel</code>, but it returns
an absolute value. In fact, <code><a href="../reference/sjl.html">sjl_rel()</a></code> is just a wrapper
function to <code><a href="../reference/sjl.html">sjl()</a></code>, but with the <code>abs</code> argument
set as <code>FALSE</code>.</p>
<p>If you already have <code>sjl_rel</code> computed, you don’t really
need to compute it twice, you can just use <code>abs(sjl_rel)</code>.
That’s what we’re going to do with our data.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">sjl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">sjl_rel</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Comparing the result</span></span>
<span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">sjl_rel</span>, <span class="va">sjl</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 2</span></span></span>
<span><span class="co">#&gt;   sjl_rel               sjl                  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 6750s (~1.88 hours)   6750s (~1.88 hours)  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 7500s (~2.08 hours)   7500s (~2.08 hours)  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 4950s (~1.38 hours)   4950s (~1.38 hours)  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> -2700s (~-45 minutes) 2700s (~45 minutes)  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2550s (~42.5 minutes) 2550s (~42.5 minutes)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="success">Success!<a class="anchor" aria-label="anchor" href="#success"></a>
</h2>
<p>We have now processed all the MCTQ standard variables proposed by the
MCTQ authors.</p>
<p>Before we look at the final data, let’s first reorder the columns to
a nice logical order and remove some <code>*_rounded</code> variables
that we created just for show.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span></span>
<span>    <span class="va">id</span>, <span class="va">work</span>, <span class="va">wd</span>, <span class="va">fd</span>,</span>
<span></span>
<span>    <span class="va">bt_w</span>, <span class="va">sprep_w</span>, <span class="va">slat_w</span>, <span class="va">so_w</span>, <span class="va">se_w</span>, <span class="va">si_w</span>, <span class="va">gu_w</span>, <span class="va">alarm_w</span>, <span class="va">wake_before_w</span>,</span>
<span>    <span class="va">sd_w</span>, <span class="va">tbt_w</span>, <span class="va">le_w</span>, <span class="va">msw</span>,</span>
<span></span>
<span>    <span class="va">bt_f</span>, <span class="va">sprep_f</span>, <span class="va">slat_f</span>, <span class="va">so_f</span>, <span class="va">se_f</span>, <span class="va">si_f</span>, <span class="va">gu_f</span>, <span class="va">alarm_f</span>, <span class="va">reasons_f</span>,</span>
<span>    <span class="va">reasons_why_f</span>, <span class="va">sd_f</span>, <span class="va">tbt_f</span>, <span class="va">le_f</span>, <span class="va">msf</span>,</span>
<span></span>
<span>    <span class="va">sd_week</span>, <span class="va">sloss_week</span>, <span class="va">le_week</span>, <span class="va">msf_sc</span>, <span class="va">sjl_rel</span>, <span class="va">sjl</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with</a></span><span class="op">(</span><span class="st">"_rounded"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>And our final dataset is …</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 37</span></span></span>
<span><span class="co">#&gt;      id work     wd    fd bt_w   sprep_w slat_w              so_w   se_w  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;Duration&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 TRUE      5     2 22<span style="color: #949494;">:</span>50  23<span style="color: #949494;">:</span>20   1800s (~30 minutes) 23<span style="color: #949494;">:</span>50  06<span style="color: #949494;">:</span>55 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2 TRUE      2     5 21<span style="color: #949494;">:</span>25  21<span style="color: #949494;">:</span>30   300s (~5 minutes)   21<span style="color: #949494;">:</span>35  05<span style="color: #949494;">:</span>05 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     3 TRUE      5     2 22<span style="color: #949494;">:</span>30  23<span style="color: #949494;">:</span>10   3000s (~50 minutes) 00<span style="color: #949494;">:</span>00  08<span style="color: #949494;">:</span>00 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     4 TRUE      2     5 00<span style="color: #949494;">:</span>45  01<span style="color: #949494;">:</span>10   900s (~15 minutes)  01<span style="color: #949494;">:</span>25  08<span style="color: #949494;">:</span>55 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     5 TRUE      7     0 22<span style="color: #949494;">:</span>40  22<span style="color: #949494;">:</span>40   300s (~5 minutes)   22<span style="color: #949494;">:</span>45  08<span style="color: #949494;">:</span>20 </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 28 more variables: si_w &lt;Duration&gt;, gu_w &lt;time&gt;, alarm_w &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   wake_before_w &lt;lgl&gt;, sd_w &lt;Duration&gt;, tbt_w &lt;Duration&gt;, le_w &lt;Duration&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   msw &lt;time&gt;, bt_f &lt;time&gt;, sprep_f &lt;time&gt;, slat_f &lt;Duration&gt;, so_f &lt;time&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   se_f &lt;time&gt;, si_f &lt;Duration&gt;, gu_f &lt;time&gt;, alarm_f &lt;lgl&gt;, reasons_f &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   reasons_why_f &lt;chr&gt;, sd_f &lt;Duration&gt;, tbt_f &lt;Duration&gt;, le_f &lt;Duration&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   msf &lt;time&gt;, sd_week &lt;Duration&gt;, sloss_week &lt;Duration&gt;, le_week &lt;Duration&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   msf_sc &lt;time&gt;, sjl_rel &lt;Duration&gt;, sjl &lt;Duration&gt;</span></span></span></code></pre></div>
<p>If you’re using <a href="https://posit.co/products/open-source/rstudio/" class="external-link">RStudio</a>, you
can run all the code showed above and then type <code>View(data)</code>
in the console to explore the final result.</p>
<p>If you don’t feel comfortable with the way <code>Duration</code>
objects are printed, <code>mctq</code> provides a utility function to
help you. Just use <code><a href="../reference/pretty_mctq.html">pretty_mctq()</a></code> to get a better view.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/pretty_mctq.html">pretty_mctq</a></span><span class="op">(</span>round <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 37</span></span></span>
<span><span class="co">#&gt;      id work     wd    fd bt_w   sprep_w slat_w so_w  se_w  si_w   gu_w  alarm_w</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;tim&gt;</span> <span style="color: #949494; font-style: italic;">&lt;tim&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;tim&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 TRUE      5     2 22<span style="color: #949494;">:</span>50  23<span style="color: #949494;">:</span>20   30<span style="color: #949494;">'</span>00<span style="color: #949494;">"</span> 23<span style="color: #949494;">:</span>50 06<span style="color: #949494;">:</span>55 25<span style="color: #949494;">'</span>00<span style="color: #949494;">"</span> 07<span style="color: #949494;">:</span>20 TRUE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2 TRUE      2     5 21<span style="color: #949494;">:</span>25  21<span style="color: #949494;">:</span>30   05<span style="color: #949494;">'</span>00<span style="color: #949494;">"</span> 21<span style="color: #949494;">:</span>35 05<span style="color: #949494;">:</span>05 05<span style="color: #949494;">'</span>00<span style="color: #949494;">"</span> 05<span style="color: #949494;">:</span>10 TRUE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     3 TRUE      5     2 22<span style="color: #949494;">:</span>30  23<span style="color: #949494;">:</span>10   50<span style="color: #949494;">'</span>00<span style="color: #949494;">"</span> 00<span style="color: #949494;">:</span>00 08<span style="color: #949494;">:</span>00 15<span style="color: #949494;">'</span>00<span style="color: #949494;">"</span> 08<span style="color: #949494;">:</span>15 TRUE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     4 TRUE      2     5 00<span style="color: #949494;">:</span>45  01<span style="color: #949494;">:</span>10   15<span style="color: #949494;">'</span>00<span style="color: #949494;">"</span> 01<span style="color: #949494;">:</span>25 08<span style="color: #949494;">:</span>55 20<span style="color: #949494;">'</span>00<span style="color: #949494;">"</span> 09<span style="color: #949494;">:</span>15 TRUE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     5 TRUE      7     0 22<span style="color: #949494;">:</span>40  22<span style="color: #949494;">:</span>40   05<span style="color: #949494;">'</span>00<span style="color: #949494;">"</span> 22<span style="color: #949494;">:</span>45 08<span style="color: #949494;">:</span>20 05<span style="color: #949494;">'</span>00<span style="color: #949494;">"</span> 08<span style="color: #949494;">:</span>25 TRUE   </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 25 more variables: wake_before_w &lt;lgl&gt;, sd_w &lt;time&gt;, tbt_w &lt;time&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   le_w &lt;time&gt;, msw &lt;time&gt;, bt_f &lt;time&gt;, sprep_f &lt;time&gt;, slat_f &lt;time&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   so_f &lt;time&gt;, se_f &lt;time&gt;, si_f &lt;time&gt;, gu_f &lt;time&gt;, alarm_f &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   reasons_f &lt;lgl&gt;, reasons_why_f &lt;chr&gt;, sd_f &lt;time&gt;, tbt_f &lt;time&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   le_f &lt;time&gt;, msf &lt;time&gt;, sd_week &lt;time&gt;, sloss_week &lt;time&gt;, le_week &lt;time&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   msf_sc &lt;time&gt;, sjl_rel &lt;time&gt;, sjl &lt;time&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="utilities">Utilities<a class="anchor" aria-label="anchor" href="#utilities"></a>
</h2>
<p>Before we end, it’s important to note that <code>mctq</code> also
provides some utility tools to help with your MCTQ data. Here are some
of them.</p>
<ul>
<li>
<code><a href="../reference/pretty_mctq.html">pretty_mctq()</a></code>: Make a MCTQ dataset more
presentable.</li>
<li>
<code><a href="../reference/random_mctq.html">random_mctq()</a></code>: Build a random MCTQ case.</li>
</ul>
<p><code>mctq</code> also provides fictional datasets of the standard,
micro, and shift versions for testing and learning purposes.</p>
<ul>
<li>
<code>std_mctq</code>: A fictional standard MCTQ dataset
(<code><a href="../reference/std_mctq.html">?std_mctq</a></code>).</li>
<li>
<code>micro_mctq</code>: A fictional <span class="math inline">\(\mu\)</span>MCTQ dataset
(<code><a href="../reference/micro_mctq.html">?micro_mctq</a></code>).</li>
<li>
<code>shift_mctq</code>: A fictional MCTQ<span class="math inline">\(^{Shift}\)</span> dataset
(<code><a href="../reference/shift_mctq.html">?shift_mctq</a></code>).</li>
</ul>
<p>We encouraged you to read the documentation of the features above.
You may find it worth your time.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>





  </body>
</html>
